<a href="https://blog.csdn.net/easylife206/article/details/134046598">一文带你搞懂公网、私网、内网、外网的区别</a>

# 一、如何区分内、外网？

内、外网是相对于防火墙而言的，在防火墙内部叫做内网，反之就是外网。

所以在一定程度上外网等同于公网，内网等同于私网。


# 二、内网【局域网】

**内网也叫局域网，从范围上来讲内网就是小部分的网络。**

局域网指在某一区域内由多台计算机互联成的计算机组。一般是方圆几千米以内。

局域网可以实现文件管理、应用软件共享、打印机共享、工作组内的日程安排、电子邮件和传真通信服务等功能。

**局域网是封闭型的，可以由办公室内的两台计算机组成，也可以由一个公司内的上千台计算机组成。**


![](https://cdn.jsdelivr.net/gh/lcekold/blogimage@main/Network/nwnetwork.png)

**我们常说的内网，从字面意思上来讲是区别于外网的。**

**也就是说内网一般是用于局域网内部的计算机之间的互相通信，如果需要访问 Internet，需要借助外网。**

局域网主要特点：

覆盖的地理范围较小，适合小范围的组网。比如学校、工厂、机关单位等。

使用专门铺设的传输介质进行联网，数据传输速率高（10Mb/s～10Gb/s）；

通信延迟时间短，可靠性较高；

局域网可以支持多种传输介质；

# 三、【外网】广域网

外网即广域网，一般情况下又称公网。

是连接不同地区局域网或者城域网计算机的通信的远程网络。

![](https://cdn.jsdelivr.net/gh/lcekold/blogimage@main/Network/guanyuNetwork.png)

连接不同地区局域网或城域网计算机通信的远程网。

**通常跨接很大的物理范围，所覆盖的范围从几十公里到几千公里，它能连接多个地区、城市和国家，或横跨几个洲并能提供远距离通信，形成国际性的远程网络。**

广域网并不等同于互联网。

# 四、【NAT】地址转换技术

**这里浅聊一下NAT——“网络地址转换”技术。 它是一种把内部私有网络地址（IP地址）翻译成合法网络IP地址的技术用。** 大概意思是，NAT 就是在局域网中使用内部地址，而当内部节点要与外部网络进行通讯时，就在网关处，将内部地址替换成公用地址，从而在外部公网（Internet）上正常使用。

![](https://cdn.jsdelivr.net/gh/lcekold/blogimage@main/Network/NatTech.jpeg)


NAT可以使多台计算机共享 Internet 连接，这一功能很好地解决了公共 IP地址紧缺的问题。通过这种方法，可以只申请一个合法IP地址，就把整个局域网中的计算机接入 Internet 中。正是因为 NAT 技术的出现才使得内网地址能很方便的访问互联网。

说白了就是将局域网中的地址映射在NAT设备上，转换成合法网络IP地址，替换为公用地址，从而在外网上正常使用。**在局域网中的设备面向外网通信时，通常会统一成一个地址，这个地址被称为“公网IP地址”或“外部IP地址”。公网IP地址是全局唯一的，可以在Internet上路由，因此其他设备可以通过这个地址访问到局域网内的设备。**

## 1.NAT工作原理

1. 请求发出：当局域网内的设备（如计算机A）需要与外网设备（如服务器B）通信时，计算机会将数据包发送到其默认网关（通常是路由器）。
2. 地址转换：路由器接收到数据包后，会检查源. IP地址（计算机A的私有IP地址）和目标IP地址（服务器B的公网IP地址）。然后，路由器会将源IP地址替换为自己的公网IP地址，并记录下这个转换关系。
3. 数据包转发：经过地址转换后，数据包会被发送到Internet上，最终到达目标服务器B。
4. 响应返回：服务器B的响应数据包会先发送到路由器，路由器会根据之前记录的转换关系将目标IP地址还原为计算机A的私有IP地址，然后将数据包转发给计算机A。

局域网中的设备使用交换机进行连接，局域网与局域网之间通过路由器进行连接

# 五、内网和外网的区别

2 个例子给你说明白

![](https://cdn.jsdelivr.net/gh/lcekold/blogimage@main/Network/example.jpeg)

如图，假设我们的计算机是设备一，想要访问百度。

# 1.怎么使用校园网


如果使用校园网，首先需要先通过校园网的路由器把我们的内网 IP 转为校园网的外网 IP。然后通过这个外网 IP 先连接上湖南电信的网关，最后在连接上百度的网关。百度把你请求的信息回传到你的校园网网关，校园网网关再把信息传给你（整个网络呈网状结构。它会自动找到一条通往百度的路径——基于深度优先搜索或者广度优先搜索）。

这个过程就跟淘宝购物差不多，转换一下。假设在学校里订购了一本书，淘宝那边接收到你的订单准备好物品就开始给你发货了。他发现你的收货地址在湖南，于是它可能从杭州出发，先去了福建的中转站，然后再到江西的中转站。突然发现江西到湖南的中转站不通，于是它只能再绕到广东的中转站，最后再到湖南中转站。这些中转站就相当于公网上的各个网关。到了湖南中转站，快递小哥再把包裹送到你的校门（这就是最后一级网关）。这时快递小哥就走了，校门处的管理人员在根据的你的宿舍信息把包裹拿给你。（局域网内部的信息交流由校园网这个网关来处理） 这对刚接触互联网的人来说有些难以理解内网 IP 和公网 IP 的区别，那我们再举一个例子。

# 2.一个对内，一个对外

我们把酒店的 201 房比作内网 IP，那么凡是酒店都可能有 201 房，假如你饿了会对服务员说：“我在 201 房间，麻烦送些吃的过来“。而假如你要点外卖的话你对店家仅说送来 201 房间（内网 IP），外面的人是不可能知道的。这时你就要对店家说某某市某某区某某酒店（公网 IP）再加上 201 房店家才能找到你。运营商所分配公网 IP 地址（某某市某某区某某酒店）也就是所住的酒店，而 201 房（内网 IP ） 则是酒店管家（路由器）所分配的。所以一个酒店可以有很多的房间（内网 IP ）但是当外面的朋友问你住哪里，你肯定不会说你住在201房间（内网 IP ）而会说你住在某某市某某区某某酒店（公网 IP ）。这是内网 IP 和公网 IP 的本质区别。一个对内，一个对外。

# 3.你需要知道的5个点 说几个注意点

1. 公网 IP 具有世界范围的唯一性，而内网 IP 只在局域网内部具有唯一性

2. 一个局域网里所有电脑的内网IP是互不相同的，但共用一个外网 IP。就像前面酒店的例子一样：你所在学校的校名在整个世界上只有一个，但是你学校里面的 A 栋大楼 3 层 3 号教室只有在你的校园内部才具有唯一性。别的学校也有 A 栋大楼 3 层 3 号教室。你只能跟快递小哥说请帮我把包裹送到 xx 大学，而不能说请帮我把包裹送到 A 栋大楼 3 层 3 号教室。

3. 在局域网中，每台电脑都可以自己分配自己的 IP，但是这个 IP 只在局域网中有效。而如果你将电脑连接到互联网，你的网络提供商的服务器会为你分配一个 IP 地址，这个IP地址才是你在外网的 IP。两个 IP 同时存在，一个对内，一个对外。

4. 互联网上的 IP（即外网 IP）地址统一由一个叫 "IANA（互联网网络号分配机构）" 的组织来管理。由于分配不合理以及 IPv4 协议本身存在的局限，现在互联网的IP地址资源越来越紧张。IANA 将 A、B、C 类 IP 地址的一部分保留下来，留作局域网使用。具体如下——IP地址空间：A 类网 10.0.0.0 ~ 10.255.255.255，B 类网172.16.0.0 ~ 172.31.255.255，C 类网 192.168.0. 0~ 192.168.255.255。也就是说，如果你查到的 IP 地址在以上 A、B、C 类IP 地址的范围内，它一定就是局域网的 IP 地址，否则就是公网的地址。

5. 实际生活中不仅有一级 NAT 技术，还有二级 NAT 技术。也就是可能你的校园网关也只是个局域网。通过多级转换可以得到更多的地址。

# 六.如何判断是内网还是公网

## 经验法

1. 一般电信 ADSL 带宽在未升级大带宽前是（动态）公网 IP。如果花费很少的钱给你升级为 100M 光纤上网，99.99% 是内网IP，那 0.01% 是我还没有发现过案例。

2. 代理网络运营商 99.99% 都是内网IP，如长城带宽、聚友E家等。

3. 光纤上网的 99.99% 都是内网IP。

## 直观法

以下 IP 段的地址都是内网 IP 地址

* 10.0.0.0 到 10.255.255.255

* 172.16.0.0 到 172.31.255.255

* 192.168.0.0 到 192.168.255.255